(()=>{var e,t,n=Object.create,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,r=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,c=(t,a,n,r)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let e of l(a))s.call(t,e)||e===n||o(t,e,{get:()=>a[e],enumerable:!(r=i(a,e))||r.enumerable});return t},a=(e,t,a)=>(a=null!=e?n(r(e)):{},c(!t&&e&&e.__esModule?a:o(a,"default",{value:e,enumerable:!0}),e)),d=(e={"src/landings/clickbox/locale/en.json"(e,t){t.exports={claim_your_reward:"Claim Your Reward!",congratulations:"Congratulations!",you_have_10_seconds_tap_to_earn:"You have only {seconds} seconds. Tap to earn your bonus!",start:"Start",tap_to_earn:"Tap to earn your bonus",you_have_10_seconds:"You have {seconds} seconds",time_left:"Time left:",you_have_to_get_the_bonus:"You have {final_seconds} to get the bonus!",click_and_claim_your_reward:"Click on the button below and claim your reward.",claim_reward:"Claim Reward"}}},function(){return t||(0,e[l(e)[0]])((t={exports:{}}).exports,t),t.exports}),u=async()=>{var e=navigator;if(!e.userAgentData)return"";try{var t=["platformVersion"];return(await e.userAgentData.getHighEntropyValues(t)).platformVersion}catch(e){return console.error("Error retrieving data from navigator.userAgentData",e),""}},I=()=>{if("undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e)return e}return""},T=()=>(new Date).getTimezoneOffset(),E=t=>{let a=new URLSearchParams;return Object.keys(t).forEach(e=>{t[e]&&a.set(e,t[e])}),a},m=new URL(window.location.href),w={pz:null!=(L=m.searchParams.get("pz"))?L:"",tb:null!=(L=m.searchParams.get("tb"))?L:"",tb_reverse:null!=(L=m.searchParams.get("tb_reverse"))?L:"",ae:null!=(L=m.searchParams.get("ae"))?L:"",z:null!=(L=m.searchParams.get("z"))?L:"",var:null!=(L=m.searchParams.get("var"))?L:"",var_1:null!=(L=m.searchParams.get("var_1"))?L:"",var_2:null!=(L=m.searchParams.get("var_2"))?L:"",var_3:null!=(L=m.searchParams.get("var_3"))?L:"",b:null!=(L=m.searchParams.get("b"))?L:"",campaignid:null!=(L=m.searchParams.get("campaignid"))?L:"",abtest:null!=(L=m.searchParams.get("abtest"))?L:"",rhd:null!=(L=m.searchParams.get("rhd"))?L:"1",s:null!=(L=m.searchParams.get("s"))?L:"",ymid:null!=(L=m.searchParams.get("ymid"))?L:"",wua:null!=(L=m.searchParams.get("wua"))?L:"",use_full_list_or_browsers:null!=(L=m.searchParams.get("use_full_list_or_browsers"))?L:"",cid:null!=(L=m.searchParams.get("cid"))?L:"",geo:null!=(L=m.searchParams.get("geo"))?L:""},F=({passParamToParams:e,searchParams:r,windowUrl:o})=>(e.forEach(e=>{var{from:e,to:t,joinWith:a}=e;let n=Array.isArray(e)?e.map(e=>null!=(e=o.searchParams.get(e))?e:"").filter(Boolean).join(null!=a?a:""):null!=(a=o.searchParams.get(e))?a:"";n&&t.forEach(e=>{r.set(e,n)})}),r),v=async({zone:e,passParamToParams:t})=>{var a=I(),n=T(),r=(null==(r=document.querySelector("html"))?void 0:r.getAttribute("data-version"))||"",o=(null==(o=document.querySelector("html"))?void 0:o.getAttribute("data-landing-name"))||"",i=null!=(i=window.templateHash)?i:"",r=JSON.stringify({dataVer:r,landingName:o,templateHash:i}),o=btoa(r),i={pz:w.pz,tb:w.tb,tb_reverse:w.tb_reverse,ae:w.ae,ab2r:w.abtest||String(APP_CONFIG.abtest||"")};let l={ymid:null!=(r=w.var_1)?r:w.var,var:null!=(r=w.var_2)?r:w.z,var_3:w.var_3,b:w.b,campaignid:w.campaignid,click_id:w.s,rhd:w.rhd,os_version:await u(),btz:a.toString(),bto:n.toString(),cmeta:o};e&&(l.zoneid=e),Object.entries(i).forEach(([e,t])=>{t&&(l[e]=t)});r=E(l);return t?F({passParamToParams:t,searchParams:r,windowUrl:new URL(window.location.href)}):r},q=(t,a)=>{try{for(let e=0;e<a;e+=1)window.history.pushState(null,"Please wait...",t);var e=window.location.href;window.history.pushState(null,document.title,e),console.log(`Back initializated ${a} times with `+t)}catch(e){console.error("Failed to push state, error:",e)}},h=async t=>{var t=null==t?void 0:t.back;if(t){var{currentTab:a,pageUrl:n}=t;if(a){var t=null!=(t=t.count)?t:10,{origin:r,pathname:o}=window.location;let e=""+r+o;n?e=n:((e=(e=e.includes("index.html")?e.split("/index.html")[0]:e).includes("back.html")?e.split("/back.html")[0]:e).endsWith("/")&&(e=e.substring(0,e.length-1)),e+="/back.html");r=new URL(e),o=await v({zone:a.zoneId}),n=(a.url?o.set("url",a.url):a.domain&&a.zoneId&&(o.set("z",a.zoneId),o.set("domain",a.domain)),decodeURIComponent(r.toString()+"?"+o.toString()));q(n,t)}}},_=async(e,t,a)=>{t=t.includes("http")?t:"https://"+t,t=new URL(t+"/afu.php"),e=await v({zone:e.toString(),passParamToParams:a}),a=decodeURIComponent(t.toString()+"?"+e.toString());return console.log("URL generated:",a),a},g=({url:e})=>{window.location.replace(e)},G=({currentTabUrl:e,newTabUrl:t})=>{t?(t=window.open(t,"_blank"))&&(t.opener=null,e)&&document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&g({url:e})}):e&&g({url:e})},p=(e,t)=>{console.error(`${t||"Some exit"} was supposed to work, but some data about this type of exit was missed`,e)},b=async(t,a,n=!0)=>{var r,o=t[a].currentTab;if(console.log(a+" worked",t),o){let e;if(o.zoneId&&o.domain)return null!=(r=window.syncMetric)&&r.call(window,{event:a,exitZoneId:o.zoneId}),e=await _(o.zoneId,o.domain),n&&await h(t),g({url:e});if(o.url)return null!=(r=window.syncMetric)&&r.call(window,{event:a,exitZoneId:o.url}),e=o.url,n&&await h(t),g({url:e})}p(o,a)},z=async(a,n)=>{var r,o=a[n];if(console.log(n+" worked",a),o){var{currentTab:i,newTab:l}=o;let e;i&&(i.zoneId&&i.domain?(e=await _(i.zoneId,i.domain),null!=(r=window.syncMetric)&&r.call(window,{event:n,exitZoneId:i.zoneId})):i.url?e=i.url:p(o,n));let t;l&&(l.zoneId&&l.domain?(t=await _(l.zoneId,l.domain),null!=(r=window.syncMetric)&&r.call(window,{event:n,exitZoneId:l.zoneId})):l.url?t=l.url:p(o,n)),await h(a),void G({currentTabUrl:e,newTabUrl:t})}else p(o,n)},M=()=>"undefined"!=typeof APP_CONFIG||(document.body.innerHTML=`
            <p style="">LANDING CAN'T BE RENDERED. ðŸ”” PLEASE ADD CODE(you can find an object with options in your Propush account) FROM PROPUSH TO HEAD TAG.</p>
        `,!1),H=["currentTab","newTab"],f=["zoneId","url"],y=r=>{if(M()){let{domain:i,videoCount:e,prizeName:t,prizeImg:a,...n}=r;return{videoCount:e,prizeName:t,prizeImg:a,...Object.entries(n).reduce((e,[t,a])=>{var n,[t,r,o]=t.split("_");return t&&(H.includes(r)?(n=r,f.includes(o)&&(e[t]={...e[t],[n]:{domain:"zoneId"===o?i:void 0,[o]:a}})):f.includes(r)?(n=r,e[t]={...e[t],currentTab:{domain:"zoneId"===n?i:void 0,[n]:a}}):(o=r,e[t]={...e[t],[o]:a})),e},{})}}},V=((async()=>{let i,l=y(APP_CONFIG);if(l){var s=null==l?void 0:l.autoexit;if(null!=s&&s.currentTab){let e=null!=(i=s.timeToRedirect)?i:90,t="visible"===document.visibilityState,a=!1,n=function(){"visible"===document.visibilityState?(t=!0,a&&b(l,"autoexit")):t=!1},r=()=>(document.addEventListener("visibilitychange",n),setTimeout(()=>{a=!0,t&&b(l,"autoexit")},1e3*e)),o=r();s=()=>{clearTimeout(o),document.removeEventListener("visibilitychange",n)};document.addEventListener("mousemove",s),document.addEventListener("click",s),document.addEventListener("scroll",s)}}})(),5184e3),$=async e=>{var t=await v({zone:e.toString()}),a=w.abtest||APP_CONFIG.abtest;return w.ymid&&t.set("var_2",w.ymid),e&&t.set("z",e),w.wua&&t.set("wua",w.wua),a&&(t.set("ab2",String(a)),t.set("ab2_ttl",""+V)),t.set("sw","./sw.js"),t.set("d",location.host),t},m=async({outDomain:a,pushDomain:n,pushZone:r,allowedNew:o,allowedPop:i,subscribedNew:l,subscribedPop:s})=>{var e;(async e=>{var t=await $(r);e.src=`https://${n}/hid.js?`+t,e.onload=function(e){e.zoneId=r,e.events.onPermissionDefault=function(){},e.events.onPermissionAllowed=async function(){o&&window.open(await _(o,a),"_blank"),i&&(window.location.href=await _(i,a))},e.events.onPermissionDenied=function(){},e.events.onAlreadySubscribed=async function(){l&&window.open(await _(l,a),"_blank"),s&&(window.location.href=await _(s,a))},e.events.onNotificationUnsupported=function(){}}})(null==(e=[document.documentElement,document.body].filter(Boolean).pop())?void 0:e.appendChild(document.createElement("script")))},O=((L=y(APP_CONFIG))&&null!=(A=null==(L=L.push)?void 0:L.currentTab)&&A.domain&&null!=(A=null==L?void 0:L.currentTab)&&A.zoneId&&m({outDomain:L.currentTab.domain,pushDomain:"10zon.com",pushZone:L.currentTab.zoneId}),(async()=>{let n=y(APP_CONFIG);if(n){var e=null==n?void 0:n.reverse;let a=!1;null!=e&&e.currentTab&&(window.addEventListener("click",async()=>{try{var e,t;a||(e=window.location.pathname,t=""+e+window.location.search,await h(n),window.history.pushState(null,"",t),a=!0)}catch(e){console.error("Reverse pushStateToHistory error:",e)}},{capture:!0}),window.addEventListener("popstate",()=>{b(n,"reverse",!1)}))}})(),"step");var A=(e=O,t=!0)=>{var a=new URL(window.location.href).searchParams.get(e);return t&&(t=e,e=window.location.href,(e=new URL(e)).searchParams.delete(t),t=e.href,window.history.replaceState(window.history.state,"",t)),a},P=()=>{var e=window.location.search,e=new URLSearchParams(e).get("lang"),t=navigator.language.split("-")[0];return e||t||"en"},S={},k=async e=>{let t=P();return S[t]||(S[t]=(async()=>{try{return await(await fetch(`./locales/${t}.json`)).json()}catch{return e()}})()),S[t]},C=async()=>Promise.resolve().then(()=>a(d(),1)).then(e=>e.default);{let E=y(APP_CONFIG);if(console.log("CONFIG:",E),E){let r=499,o=9999,i=2,l=APP_CONFIG.secondsLeftBeforeFinal||10,e=90,s=1e3,t={step:"step"},a="blur",c="game__main__bonus-value",d="game__main__image-rotate-1",u="game__main__image-rotate-2",n="hidden",m="visible",w,v,h,_,g,p,b,f,y,P,S,L,I=()=>{U(P),w&&w.classList.remove(a)},T=()=>{document.removeEventListener("click",T),N(b);let a=0;function e(){var e,t;(a+=1)===i&&U(p),null!=g&&g.classList.contains(d)?(g.classList.remove(d),g.classList.add(u)):null!=g&&g.classList.contains(u)?(g.classList.remove(u),g.classList.add(d)):g&&g.classList.add(d),t="+"+x(r,o),_&&((e=document.createElement("div")).classList.add(c),e.innerText=t,e.style.left=x(0,90)+"%",e.style.top=x(0,90)+"%",_.append(e))}{var n=()=>{document.removeEventListener("click",e),B()};let t=0,a=(D(y,""+(l-t)),setInterval(()=>{var e;(t+=1)===l+1?(clearInterval(a),n()):(e=l-t,D(y,""+e),j(L,(null==L?void 0:L.getAttribute("data-translate"))||"",{seconds:e}),f&&(f.style.width=t/l*100+"%"))},s))}document.addEventListener("click",e)};function N(e){e&&(e.classList.remove(n),e.classList.add(m))}function U(e){e&&(e.classList.remove(m),e.classList.add(n))}function x(e,t){return Math.floor(Math.random()*(t-e)+e)}function D(e,t){e&&(e.innerText=t)}async function j(e,t,n){if(e){let a=(await k(C))[t];Object.entries(n).forEach(([e,t])=>{a=a.replace(new RegExp(`{${e}}`,"g"),t.toString())}),e.textContent=a}}function B(){N(v);let r=e,o=()=>{var e,t,a,n;j(h,(null==h?void 0:h.getAttribute("data-translate"))||"",{final_seconds:(e=r,t=Math.floor(e/3600),a=Math.floor(e/60)%60,e%=60,`${(n=e=>e.toString().padStart(2,"0"))(t)}:${n(a)}:`+n(e))}),0<r&&(r--,setTimeout(o,s))};o(),document.addEventListener("click",()=>{z(E,"mainExit")})}function R(e){e.preventDefault(),S&&S.removeEventListener("click",R),(async(e,t,a=O)=>{var n=new URL(window.location.href);n.searchParams.append(a,t.toString()),z({...e,tabUnderClick:{...e.tabUnderClick,newTab:{url:n.toString()}}},"tabUnderClick")})(E,t.step)}w=document.querySelector(".game"),v=document.querySelector(".game-final-screen"),h=document.querySelector(".game__header__text"),_=document.querySelector(".game__main__bonus-container"),g=document.querySelector(".game__main__image"),p=document.querySelector(".game__main__image-hand"),b=document.querySelector(".game__progress"),f=document.querySelector(".game__progress__bar"),y=document.querySelector(".game__progress__value"),P=document.querySelector(".modal"),S=document.querySelector(".modal__window__button"),L=document.querySelector(".game__progress__value-header"),A()===t.step?(I(),document.addEventListener("click",T)):S&&S.addEventListener("click",R)}}var L;(async(e,n)=>{var t=P(),t=(document.documentElement.setAttribute("lang",t),["ar","he","fa","ur","az","ku","ff","dv"].includes(t)&&document.documentElement.setAttribute("dir","rtl"),await k(e));let r=[];Object.entries(t).forEach(e=>{var t=e[0];let a=e[1];e=null==n?void 0:n[t],a=e?a.replaceAll(e.macros,e.macrosValue):a,e=document.querySelectorAll(`[data-translate="${t}"]`);null!=e&&e.length?e.forEach(e=>{e&&(e.hasAttribute("data-translate-html")?e.innerHTML=a:(e.childNodes.length||(e.textContent=a),e.childNodes.forEach(e=>{e.nodeType===Node.TEXT_NODE&&(e.nodeValue=a)})))}):r.push(t)}),r.length&&console.warn("Some keys from locales folder weren't used for translation when loading the landing page for the first time:",r.join(", "))})(C,{you_have_10_seconds_tap_to_earn:{macros:"{seconds}",macrosValue:(null==(m=APP_CONFIG.secondsLeftBeforeFinal)?void 0:m.toString())||"10"},you_have_10_seconds:{macros:"{seconds}",macrosValue:(null==(L=APP_CONFIG.secondsLeftBeforeFinal)?void 0:L.toString())||"10"}})})();